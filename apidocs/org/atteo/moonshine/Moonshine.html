<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_21) on Tue Oct 22 00:07:41 CEST 2013 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>Moonshine (Moonshine 1.0-SNAPSHOT API)</title>
<meta name="date" content="2013-10-22">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Moonshine (Moonshine 1.0-SNAPSHOT API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Moonshine.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/atteo/moonshine/Main.html" title="class in org.atteo.moonshine"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/atteo/moonshine/Moonshine.Builder.html" title="interface in org.atteo.moonshine"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/atteo/moonshine/Moonshine.html" target="_top">Frames</a></li>
<li><a href="Moonshine.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.atteo.moonshine</div>
<h2 title="Interface Moonshine" class="title">Interface Moonshine</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Superinterfaces:</dt>
<dd><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a></dd>
</dl>
<hr>
<br>
<pre>public interface <a href="../../../src-html/org/atteo/moonshine/Moonshine.html#line.101">Moonshine</a>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a></pre>
<div class="block">Moonshine framework starting class.
 <h3>The following operations are performed:</h3>
 <p>
 <ul>
 <li>first, 'Bootstrapping Moonshine' message is logged through SLF4J, this should trigger
 logging framework initialization, by default Moonshine is configured to use <a href="../../../org/atteo/moonshine/logging/Logback.html" title="class in org.atteo.moonshine.logging"><code>Logback</code></a>
 and also provides the default logback.xml file which logs WARN and ERROR messages to the console</li>
 <li>shutdown hook is registered, so Moonshine will shutdown cleanly before virtual machine stops</li>
 <li><a href="../../../org/atteo/moonshine/logging/Logging.html#earlyBootstrap()"><code>Logging.earlyBootstrap()</code></a> is called, the default implementation for Logback redirects
 JUL logs through SLF4J and also initializes <code>LevelChangePropagator</code></li>
 <li>command line parameters are parsed</li>
 <li><a href="../../../org/atteo/moonshine/directories/FileAccessor.html" title="interface in org.atteo.moonshine.directories"><code>file accessor</code></a> is initialized</li>
 <li><a href="../../../org/atteo/moonshine/logging/Logging.html#initialize(org.atteo.moonshine.directories.FileAccessor, java.util.Properties)"><code>Logging.initialize(FileAccessor, Properties)</code></a> is called, the default implementation
 for Logback loads logback-moonshine.xml which should load final logging configuration, by default Moonshine
 contains logback-moonshine.xml file which logs INFO messages to the file in ${logHome}
 directory</li>
 <li>configuration is loaded from a number of configuration files, by default '/default-config.xml'
 classpath resource and ${configHome}/config.xml file, the result is <a href="../../../org/atteo/moonshine/Config.html" title="class in org.atteo.moonshine"><code>Config</code></a> object,</li>
 <li>list of configured services is obtained by executing <a href="../../../org/atteo/moonshine/Config.html#getSubServices()"><code>Config.getSubServices()</code></a>,</li>
 <li> <code>Guice</code> <code>injector</code> is created based on the modules returned from each Service's
 <a href="../../../org/atteo/moonshine/services/Service.html#configure()"><code>Service.configure()</code></a> method,</li>
  <li><code>members injection</code> is performed on each service,</li>
  <li><a href="../../../org/atteo/moonshine/services/Service.html#start()"><code>start</code></a> is executed on each service.</li>
 </ul>
 </p>

 <h3>Configuration files</h3>
 <p>
 Two configuration files are searched for. First the classpath is searched for '/default-config.xml'.
 The idea is that this file contains default configuration prepared by the application programmer.
 Next application configuration directory '${configHome} is searched for config.xml file which should
 contain the configuration prepared by the application administrator. If config.xml file does not exist
 it is created with the reference to the XSD schema to which the file should conform.
 </p>

 <h3>Property resolvers</h3>
 <p>
 Configuration files are merged and then filtered with a number of predefined <code>PropertyResolver</code>s.
 In the files @code ${name}} placeholder will be replaced in the following ways:
 <ul>
   <li>all Java system properties, see <code>SystemPropertyResolver</code>,</li>
   <li>environment variables can be referenced using env prefix, ex ${env.PATH},
 see <code>EnvironmentPropertyResolver</code>,</li>
   <li>all elements in the XML configuration file can be referenced using dot to separate tag names,
 see <code>XmlPropertyResolver</code>,</li>
   <li>custom properties under <code>&lt;properties&gt;</code> section in the configuration file,</li>
   <li>properties are resolved recursively, for instance: ${env.${VARNAME}}</li>
   <li>you can add your own custom <code>PropertyResolver</code>s using
 <a href="../../../org/atteo/moonshine/Moonshine.Builder.html#addPropertyResolver(org.atteo.evo.filtering.PropertyResolver)"><code>Moonshine.Builder.addPropertyResolver(PropertyResolver)</code></a>.</li>
 </ul>
 Read the description of the <code>Configuration</code> engine to learn more about merging, filtering
 and validating the configuration file.
 </p>

 </li>
 </ul>
 </p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Interface and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../org/atteo/moonshine/Moonshine.Builder.html" title="interface in org.atteo.moonshine">Moonshine.Builder</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../org/atteo/moonshine/Moonshine.Factory.html" title="class in org.atteo.moonshine">Moonshine.Factory</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../org/atteo/moonshine/Moonshine.RestrictedBuilder.html" title="interface in org.atteo.moonshine">Moonshine.RestrictedBuilder</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/atteo/moonshine/Moonshine.html#close()">close</a></strong>()</code>
<div class="block">Stops Moonshine framework.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>com.google.inject.Injector</code></td>
<td class="colLast"><code><strong><a href="../../../org/atteo/moonshine/Moonshine.html#getGlobalInjector()">getGlobalInjector</a></strong>()</code>
<div class="block">Returns the global injector of the Moonshine.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/atteo/moonshine/Moonshine.html#start()">start</a></strong>()</code>
<div class="block">Starts all configured services.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="start()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>start</h4>
<pre>void&nbsp;<a href="../../../src-html/org/atteo/moonshine/Moonshine.html#line.266">start</a>()</pre>
<div class="block">Starts all configured services.</div>
</li>
</ul>
<a name="getGlobalInjector()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getGlobalInjector</h4>
<pre>com.google.inject.Injector&nbsp;<a href="../../../src-html/org/atteo/moonshine/Moonshine.html#line.272">getGlobalInjector</a>()</pre>
<div class="block">Returns the global injector of the Moonshine.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>Moonshine global injector</dd></dl>
</li>
</ul>
<a name="close()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>close</h4>
<pre>void&nbsp;<a href="../../../src-html/org/atteo/moonshine/Moonshine.html#line.278">close</a>()</pre>
<div class="block">Stops Moonshine framework.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html?is-external=true#close()" title="class or interface in java.lang">close</a></code>&nbsp;in interface&nbsp;<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Moonshine.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/atteo/moonshine/Main.html" title="class in org.atteo.moonshine"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/atteo/moonshine/Moonshine.Builder.html" title="interface in org.atteo.moonshine"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/atteo/moonshine/Moonshine.html" target="_top">Frames</a></li>
<li><a href="Moonshine.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2013 <a href="http://www.atteo.com">Atteo</a>. All Rights Reserved.</small></p>
</body>
</html>
